@using Microsoft.AspNetCore.Components
@using OpenAccount.Data

@inject Transaksi trx
@inject TransaksiBaru trxbaru
@inject Utility utility
<!-- ======= Hero Section ======= -->
<section id="hero">

    <div class="container">
        <div class="row">
            <div class="col-xl-12 pt-5 pt-lg-0 order-2 order-lg-1 d-flex flex-column justify-content-center" data-aos="fade-up">
                <div style="text-align: center;">
                    <h2 style="font-weight: bold;">Get <b style="color: #F37024;">Easy</b>, Simply Use</h2>
                    <h5 style="color: #00529C; margin-top: -1rem; margin-bottom: 2em;">Silakan pilih menu yang Anda inginkan</h5>
                </div>

                <div id="carouselExampleIndicators" class="carousel slide" data-interval="false">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="card-deck" style="float: left; margin-top: 1%; margin-bottom: 1%; padding-left: 12%; padding-right: 12%;" data-aos="fade-up">

                                <div class="card" @onclick="BukuTabungan">
                                    <div class="text-center" style="align-items: center; height: 70%;">
                                        <img src="assets/img/icon-menu/p-b-tabungan.png" class="card-img-top" style="width: 70%; margin-top: 1rem;" alt="...">
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Print Buku Tabungan</h5>

                                    </div>
                                </div>
                                <div class="card" @onclick="HistoriTransaksi">
                                    <div class="text-center" style="align-items: center; height: 70%;">
                                        <img src="assets/img/icon-menu/p-h-transaksi.png" class="card-img-top" style="width: 70%;" alt="...">
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Print Histori Transaksi</h5>

                                    </div>
                                </div>

                                <div class="card" @onclick="GantiKartu">
                                    <div class="text-center" style="align-items: center; height: 70%;">
                                        <img src="assets/img/icon-menu/ganti-kartu.png" class="card-img-top" style="width: 80%; margin-top: 2rem;" alt="...">
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Ganti Kartu Hilang/Rusak</h5>

                                    </div>
                                </div>

                                <div class="card" @onclick="GantiPin">
                                    <div class="text-center" style="align-items: center; height: 70%;">
                                        <img src="assets/img/icon-menu/ganti-pin.png" class="card-img-top" style="width: 80%; margin-top: 3rem;" alt="...">
                                    </div>
                                    <div class="card-body">
                                        <h5 class="card-title">Ganti PIN</h5>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- <div class="carousel-item">

                        </div> -->

                        <a class="carousel-control-prev2" href="#carouselExampleIndicators" role="button" data-slide="prev">
                            <span class="carousel-control-prev2-icon" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="carousel-control-next2" href="#carouselExampleIndicators" role="button" data-slide="next">
                            <span class="carousel-control-next2-icon" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                </div>

            </div>

        </div>
    </div>
</section>
<!-- End Hero -->
<!-- ======= Footer ======= -->
<footer id="footer" class="fixed-bottom">
    <div class="container" style="display: flex;">
        <div class="col-xl-2 order-1 order-lg-1">
            <!-- <button type="button" class="btn btn-primary" style="background-color: #4E4E4E;">Batal</button> -->
        </div>
        <div class="col-xl-8 order-2 order-lg-2">
            <hr style="border: 1px solid #00529C; border-radius: 5px;">
        </div>
        <div class="col-xl-2 order-3 order-lg-3">
            <!-- <a href="term-condition.html"><button type="button" class="btn btn-primary" style="float: right;">Continue</button></a> -->
        </div>
    </div>
</footer><!-- End Footer -->

@code {
    [Parameter]
    public EventCallback<string> OnClick { get; set; }
    private bool isVisible = false;

    protected override async Task OnInitializedAsync()
    {
        trx.clear();
        Utility.WriteLog("Home condition : clear transaksi success", "step-action");
        trx.clearKTP();
        trx.clearArray();
        Utility.WriteLog("Home condition : clear array success", "step-action");
        trx.clearArrayNasabah();
        Utility.WriteLog("Home condition : clear array nasabah success", "step-action");
        trx.ClearList();
        Utility.WriteLog("Home condition : clear list success", "step-action");
        trxbaru.clear();
        Utility.WriteLog("Home condition : clear transaksi baru success", "step-action");
    }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            Utility.WriteLog("Home condition : entered into home page", "step-action");
        }
    }

    private void test()
    {
        isVisible = true;
    }

    private async Task GantiKartu()
    {
        Utility.WriteLog("Home condition : move to ganti kartu", "step-action");
        OnClick.InvokeAsync("gantikartu");
    }

    private async Task HistoriTransaksi()
    {
        Utility.WriteLog("Home condition : move to histori transaksi", "step-action");
        OnClick.InvokeAsync("historitransaksi");
    }

    private async Task BukuTabungan()
    {
        Utility.WriteLog("Home condition : move to buku tabungan", "step-action");
        OnClick.InvokeAsync("bukutabungan");
    }

    private async Task BukaRekening()
    {
        Utility.WriteLog("Home condition : move to buka rekening", "step-action");
        OnClick.InvokeAsync("bukarekening");
    }

    private async Task GantiPin()
    {
        Utility.WriteLog("Home condition : move to ganti pin", "step-action");
        OnClick.InvokeAsync("gantipin");
    }
}
